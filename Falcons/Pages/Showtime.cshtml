@page
@model Falcons.Pages.ShowtimeModel
@{
    Layout = "_Layout";
    ViewData["Title"] = "Showtime";
}

<div class="col-lg-12">
    

    @foreach (var item in Model.Showtimes)
    {
        <div class="col-lg-12">

            <h3>@Html.DisplayFor(m => item.Movies.MovieName)</h3>
            <div class="ShowDay">@Html.DisplayFor(m => item.StartDate)</div>

            <button class="btn btn-primary" asp-page="/Ticketing/SeatBooking">@Html.DisplayFor(m => item.StartTime)</button>
        </div>
       <br />

    }
</div>


@section Scripts{
    <script>

        let dateList = document.querySelectorAll(".ShowDay");

        let weekday = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];

        //let ShowDay = document.querySelectorAll(".ShowDay");



        for (let i = 0; i < dateList.length; i++) {

            console.log(dateList[i].innerHTML)
            let date = new Date(dateList[i].innerHTML)

            document.querySelectorAll(".ShowDay")[i].innerHTML += String(" (") + weekday[date.getDay()] + String(") ") ;
        }

    </script>

}


@*@section Scripts{
        <script>


            var time = new Date();

            var days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];

            let Splitme = document.querySelectorAll(".Splitme");

            let splitarray = new Array();

            for (let i = 0; i < Splitme.length; i++) {

                splitarray = Splitme[i].innerHTML.split(" ");

                var date = new Date(splitarray[0]);
                var dayname = days[date.getDay()]

                document.querySelectorAll(".Splitme")[i].innerHTML = dayname;

            }

        </script>

    }*@